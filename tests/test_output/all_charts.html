<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <link href="https://raw.githubusercontent.com/novus/nvd3/master/src/nv.d3.css" rel="stylesheet"/>
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="https://raw.githubusercontent.com/novus/nvd3/master/nv.d3.min.js"></script>
</head>
<body>
<h1>Distribution par genre</h1>

<div id="nb_article_by_genre">
    <svg style="width:600px;height:300px;"></svg>
</div>


<script>



    data_nb_article_by_genre=[{"values": [{"value": 4, "label": "BD"}, {"value": 1, "label": "Divers"}, {"value": 1, "label": "Jeunesse"}, {"value": 3, "label": "Roman"}, {"value": 1, "label": "Roman Noir"}], "key": "Serie 1"}];

    nv.addGraph(function() {
        var chart = nv.models.pieChart();
        chart.margin({top: 30, right: 60, bottom: 20, left: 60});
        var datum = data_nb_article_by_genre[0].values;

    chart.tooltipContent(function(key, y, e, graph) {
          var x = String(key);
              var y =  String(y)  + ' posts';

              tooltip_str = '<center><b>'+x+'</b></center>' + y;
              return tooltip_str;
              });
        chart.showLabels(true);

            chart.donut(false);

    chart.showLegend(true);




        chart
            .x(function(d) { return d.label })
            .y(function(d) { return d.value });

        chart.width(600);

        chart.height(300);


            d3.select('#nb_article_by_genre svg')
            .datum(datum)
            .transition().duration(500)
            .attr('width', 600)
            .attr('height', 300)
            .call(chart);


        });



    </script>

<h1>Nombre d'articles par année</h1>

<div id="nb_article_by_year">
    <svg style="width:600px;height:300px;"></svg>
</div>


<script>



                data_nb_article_by_year=[{"values": [{"y": 1, "x": 2007}, {"y": 2, "x": 2008}, {"y": 7, "x": 2014}], "key": "Serie 1", "yAxis": "1"}];


            nv.addGraph(function() {
        var chart = nv.models.discreteBarChart();

        chart.margin({top: 30, right: 60, bottom: 20, left: 60});

        var datum = data_nb_article_by_year;



                    chart.yAxis
                .tickFormat(d3.format(',.0f'));

    
    

        



            d3.select('#nb_article_by_year svg')
            .datum(datum)
            .transition().duration(500)
            .attr('width', 600)
            .attr('height', 300)
            .call(chart);

    
        });



    </script>

<h1>Nombre d'articles par genre et par année</h1>

<div id="nb_article_by_tag_year">
    <svg style="width:600px;height:300px;"></svg>
</div>


<script>


            data_nb_article_by_tag_year=[{"values": [{"y": 0, "x": 2007}, {"y": 0, "x": 2008}, {"y": 4, "x": 2014}], "key": "BD", "yAxis": "1"}, {"values": [{"y": 1, "x": 2007}, {"y": 1, "x": 2008}, {"y": 1, "x": 2014}], "key": "Roman", "yAxis": "1"}, {"values": [{"y": 0, "x": 2007}, {"y": 0, "x": 2008}, {"y": 1, "x": 2014}], "key": "Divers", "yAxis": "1"}, {"values": [{"y": 0, "x": 2007}, {"y": 0, "x": 2008}, {"y": 1, "x": 2014}], "key": "Jeunesse", "yAxis": "1"}, {"values": [{"y": 0, "x": 2007}, {"y": 1, "x": 2008}, {"y": 0, "x": 2014}], "key": "Roman Noir", "yAxis": "1"}];

    nv.addGraph(function() {
        var chart = nv.models.stackedAreaChart().useInteractiveGuideline(true);

        chart.margin({top: 30, right: 60, bottom: 20, left: 60});

        var datum = data_nb_article_by_tag_year;



            chart.yAxis
                .tickFormat(d3.format(',.2f'));

                    chart.tooltipContent(function(key, y, e, graph) {
                        var x = String(graph.point.x);
                        var y = String(graph.point.y);
                                            if(key == 'BD'){
                        var y = 'There is ' +  String(graph.point.y)  + ' min';
                    }
                    if(key == 'Roman'){
                        var y = 'There is ' +  String(graph.point.y)  + ' min';
                    }
                    if(key == 'Divers'){
                        var y = 'There is ' +  String(graph.point.y)  + ' min';
                    }
                    if(key == 'Jeunesse'){
                        var y = 'There is ' +  String(graph.point.y)  + ' min';
                    }
                    if(key == 'Roman Noir'){
                        var y = 'There is ' +  String(graph.point.y)  + ' min';
                    }

                        tooltip_str = '<center><b>'+key+'</b></center>' + y + ' at ' + x;
                        return tooltip_str;
                    });

      chart.showLegend(true);



        


        d3.select('#nb_article_by_tag_year svg')
            .datum(datum)
            .transition().duration(500)
            .attr('width', 600)
            .attr('height', 300)
            .call(chart);


    });




</script>

<h1>Distribution du classement</h1>

<div id="nb_article_by_ranking">
    <svg style="width:600px;height:300px;"></svg>
</div>


<script>



                data_nb_article_by_ranking=[{"values": [{"y": 1, "x": "2 \u00e9toiles"}, {"y": 6, "x": "4 \u00e9toiles"}, {"y": 3, "x": "5 \u00e9toiles"}], "key": "Serie 1", "yAxis": "1"}];


            nv.addGraph(function() {
        var chart = nv.models.discreteBarChart();

        chart.margin({top: 30, right: 60, bottom: 20, left: 60});

        var datum = data_nb_article_by_ranking;



                    chart.yAxis
                .tickFormat(d3.format(',.0f'));

    
    

        



            d3.select('#nb_article_by_ranking svg')
            .datum(datum)
            .transition().duration(500)
            .attr('width', 600)
            .attr('height', 300)
            .call(chart);

    
        });



    </script>

</body>
</html>